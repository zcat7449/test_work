Необходимо сделать роль для разворачивания коллектора логов filebeat 5.5.1 на серверах. 
На сервере необходимо собирать логи из /var/log/messages, а так же из приложений устанавливаемых на этот сервер. 
Конфиг /etc/filebeat/filbeat.yml должен быть цельным, т.к. в этой версии filebeat использует только один конфиг.
Filebeat должен запускать через service.

В папке ./filebeat находится два примера конфигов и дистрибутив filebeat.

Устанавливаемые приложения:
simi2:
    java приложение, запускаемое с помощью Tomcat
    Логи в примере simi2_thinkehr_filebeat.yml с my_facility: Simi2Soap и  my_facility: EventProcessor

thinkehr:
    java приложение запускаемое с помощью wrapper.
    Логи в примере simi2_thinkehr_filebeat.yml с my_facility: thinkehr

cassandra:
    кластерная колоночная субд написана на java.
    Логи в примере cas_filebeat.yml

    


Требования к конфигу:
1. Поля : stand, my_facility должны задаваться через инветори файл.поле my_type в темплейтах роли 
2. Изменения для части конфига для одного приложения не должны затрагивать изменения для других
3. Системные логи /var/log/messages и секция output должны быть всегда.
4. При изменении конфига filebeat должен быть перезапущен. Если изменений не было перезапускать
   не нужно.
5. Вынести настраиваемые значения в переменные.
6. Общие переменные вынести в defailts/main.yml
7. Переменные зависящие от хоста и приложения должны быть вынесены в ivn-71-72.yml

Разворачиваться приложения будут коммандами 
ansible-playbook -i inv-71-72.yml thinkehr.yml
ansible-playbook -i inv-71-72.yml simi2.yml
ansible-playbook -i inv-71-72.yml cassandra.yml

